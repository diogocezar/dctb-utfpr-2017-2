!function(t,e,i,a){var s=function(t,e){arguments&&this.init(t,e)};s.prototype={defaults:{xpos:"50%",enableParallax:!0,speedFactor:.2,loadFirst:!0,loadingText:"carregando..."},init:function(i,a){this.element=t(i),this.opts=t.extend({windowHeight:t(e).height()},this.defaults,a),(this.backgroundImage=this.element.data("background"))?this.opts.loadFirst?(this.loadingText=t('<span class="bg-loading"></span>').text(this.opts.loadingText),this.element.append(this.loadingText),t("<img>").one("load.parallax",t.proxy(this.activate,this)).attr("src",this.backgroundImage)):(this.element.css({backgroundImage:"url("+this.backgroundImage+")"}),this.activate()):this.activate()},activate:function(){this.backgroundImage&&this.opts.loadFirst&&(this.element.css({backgroundImage:"url("+this.backgroundImage+")"}),this.loadingText&&this.loadingText.remove()),this.opts.enableParallax&&t(e).on("scroll.parallax",t.proxy(function(){this.refresh()},this)).on("smartresize.parallax orientationchange.parallax",t.proxy(function(){this.opts.windowHeight=t(e).height(),this.refresh()},this))},refresh:function(){var i=t(e).scrollTop(),a=this.element.offset().top;a+this.element.outerHeight()<i||a>i+this.opts.windowHeight||this.element.css("backgroundPosition",this.opts.xpos+" "+Math.round((a-i)*this.opts.speedFactor)+"px")}},t.fn.parallax=function(t){return this.each(function(){new s(this,t)})}}(jQuery,window,document);